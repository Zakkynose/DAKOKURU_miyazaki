<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">
    <main layout:fragment="content">
        <h2>社員情報更新</h2>
        <div>
            <form method="post" th:action="@{/user/update}" th:object="${userForm}">
                <div>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <input type="hidden" name="id" th:value="${user.id}">

                    <label for="fn_jp">名前(正式表示)</label>
                    <input id="fn_jp" type="text" name="fnJp" th:value="${user.name != null ? user.name.fnJp : userForm.fnJp}">
                    <span th:if="${#fields.hasErrors('fnJp')}" th:errors="*{fnJp}" class="error-message"></span>

                    <label for="fn_jp_hira">名前(ひらがな)</label>
                    <input id="fn_jp_hira" type="text" name="fnJpHira" th:value="${user.name != null ? user.name.fnJpHira : userForm.name}">
                    <span th:if="${#fields.hasErrors('fnJpHira')}" th:errors="*{fnJpHira}" class="error-message"></span>

                    <label for="fn_jp_kata">名前(カタカナ)</label>
                    <input id="fn_jp_kata" type="text" name="fnJpKata" th:value="${user.name != null ? user.name.fnJpKata : userForm.fnJpKata}">
                    <span th:if="${#fields.hasErrors('fnJpKata')}" th:errors="*{fnJpKata}" class="error-message"></span>

                    <label for="fn_en">名前(英語)</label>
                    <input id="fn_en" type="text" name="fnEn" th:value="${user.name != null ? user.name.fnEn : userForm.fnEn}">
                    <span th:if="${#fields.hasErrors('fnEn')}" th:errors="*{fnEn}" class="error-message"></span>

                    <label for="ln_jp">姓(正式表示)</label>
                    <input id="ln_jp" type="text" name="lnJp" th:value="${user.name != null ? user.name.lnJp : userForm.lnJp}">
                    <span th:if="${#fields.hasErrors('lnJp')}" th:errors="*{lnJp}" class="error-message"></span>

                    <label for="ln_jp_hira">姓(ひらがな)</label>
                    <input id="ln_jp_hira" type="text" name="lnJpHira" th:value="${user.name != null ? user.name.lnJpHira : userForm.lnJpHira}">
                    <span th:if="${#fields.hasErrors('lnJpHira')}" th:errors="*{lnJpHira}" class="error-message"></span>

                    <label for="ln_jp_kata">姓(カタカナ)</label>
                    <input id="ln_jp_kata" type="text" name="lnJpKata" th:value="${user.name != null ? user.name.lnJpKata : userForm.lnJpKata}">
                    <span th:if="${#fields.hasErrors('lnJpKata')}" th:errors="*{lnJpKata}" class="error-message"></span>

                    <label for="ln_en">姓(英語)</label>
                    <input id="ln_en" type="text" name="lnEn" th:value="${user.name != null ? user.name.lnEn : userForm.lnEn}">
                    <span th:if="${#fields.hasErrors('lnEn')}" th:errors="*{lnEn}" class="error-message"></span>

                    <label for="oln_jp">旧姓(正式表示)</label>
                    <input id="oln_jp" type="text" name="olnJp" th:value="${user.name != null ? user.name.olnJp : userForm.olnJp}">
                    <span th:if="${#fields.hasErrors('olnJp')}" th:errors="*{olnJp}" class="error-message"></span>

                    <label for="oln_jp_hira">旧姓(ひらがな)</label>
                    <input id="oln_jp_hira" type="text" name="olnJpHira" th:value="${user.name != null ? user.name.olnJpHira : userForm.olnJpHira}">
                    <span th:if="${#fields.hasErrors('olnJpHira')}" th:errors="*{olnJpHira}" class="error-message"></span>

                    <label for="oln_jp_kata">旧姓(カタカナ)</label>
                    <input id="oln_jp_kata" type="text" name="olnJpKata" th:value="${user.name != null ? user.name.olnJpKata : userForm.olnJpKata}">
                    <span th:if="${#fields.hasErrors('olnJpKata')}" th:errors="*{olnJpKata}" class="error-message"></span>

                    <label for="oln_en">旧姓(英語)</label>
                    <input id="oln_en" type="text" name="olnEn" th:value="${user.name != null ? user.name.olnEn : userForm.olnEn}">
                    <span th:if="${#fields.hasErrors('olnEn')}" th:errors="*{olnEn}" class="error-message"></span>

                    <label for="mn_jp">ミドルネーム(正式表示)</label>
                    <input id="mn_jp" type="text" name="mnJp" th:value="${user.name != null ? user.name.mnJp : userForm.mnJp}">
                    <span th:if="${#fields.hasErrors('mnJp')}" th:errors="*{mnJp}" class="error-message"></span>

                    <label for="mn_jp_hira">ミドルネーム(ひらがな)</label>
                    <input id="mn_jp_hira" type="text" name="mnJpHira" th:value="${user.name != null ? user.name.mnJpHira : userForm.mnJpHira}">
                    <span th:if="${#fields.hasErrors('mnJpHira')}" th:errors="*{mnJpHira}" class="error-message"></span>

                    <label for="mn_jp_kata">ミドルネーム(カタカナ)</label>
                    <input id="mn_jp_kata" type="text" name="mnJpKata" th:value="${user.name != null ? user.name.mnJpKata : userForm.mnJpKata}">
                    <span th:if="${#fields.hasErrors('mnJpKata')}" th:errors="*{mnJpKata}" class="error-message"></span>

                    <label for="mn_en">ミドルネーム(英語)</label>
                    <input id="mn_en" type="text" name="mnEn" th:value="${user.name != null ? user.name.mnEn : userForm.mnEn}">
                    <span th:if="${#fields.hasErrors('mnEn')}" th:errors="*{mnEn}" class="error-message"></span>

                    <label for="email">メールアドレス</label>
                    <input id="email" type="email" name="email" th:value="${user != null ? user.email : userForm.email}">
                    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="error-message"></span>

                    <label for="password">パスワード</label>
                    <input id="password" type="password" name="password">
                    <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="error-message"></span>

                    <label for="employee_no">社員番号</label>
                    <input id="employee_no" type="number" name="employeeNo" th:value="${user != null ? user.employeeNo : userForm.employeeNo}">
                    <span th:if="${#fields.hasErrors('employeeNo')}" th:errors="*{employeeNo}" class="error-message"></span>

                    <label for="joining_date">入社日</label>
                    <input id="joining_date" type="date" name="joiningDate" th:value="${user != null ? user.joiningDate : userForm.joiningDate}">
                    <span th:if="${#fields.hasErrors('joiningDate')}" th:errors="*{joiningDate}" class="error-message"></span>

                    <div>
                        <label for="display_first_name">ファーストネームを先に表示</label>
                        <input id="display_first_name" type="checkbox" name="englishNotation" value="true" th:checked="*{englishNotation}">
                    </div>

                    <input type="submit" value="更新">
                </div>
                <div>
                    <span th:if="${successMessage}" th:text="${successMessage}"></span>
                </div>
            </form>
            <a th:href="@{/user/index}">ユーザー一覧へ戻る</a>
        </div>
    </main>
</html>